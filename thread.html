<section id="thread">
  <h2>2️⃣ 동시성 & 스레드</h2>

  <article id="q11">
    <h3>🧩 11. Thread vs Runnable</h3>

    <h4>💬 면접 답변 예시</h4>
    <p>
      <b>Thread</b>는 실제 실행 단위를 의미하고, <b>Runnable</b>은 실행할 작업(로직)을 정의합니다.  
      Runnable은 Thread에 의존하지 않고 코드만 분리할 수 있기 때문에 <b>재사용성과 유연성</b>이 높습니다.  
      예를 들어 여러 개의 Runnable을 하나의 스레드 풀에서 동시에 실행할 수도 있고, 
      테스트 코드에서도 스레드를 생성하지 않고 로직만 검증할 수 있습니다.  
    </p>

    <h4>🧠 핵심 개념</h4>
    <ul>
      <li>Thread: OS 스케줄러가 관리하는 실제 실행 단위</li>
      <li>Runnable: 실행할 코드 블록을 담는 인터페이스</li>
      <li><b>Thread.start()</b> → 새로운 스레드 생성 및 Runnable 실행</li>
      <li>Runnable은 <b>다중 상속 문제 회피</b>와 테스트 편의성에서 유리</li>
    </ul>

    <h4>⚙️ 실무 적용 예시</h4>
    <pre><code>// Runnable을 스레드풀에 전달하는 예시
ExecutorService pool = Executors.newFixedThreadPool(4);
pool.submit(() -> {
    doSomeTask();
});</code></pre>

    <p>
      실제 서비스에서는 Thread를 직접 생성하기보다 <b>스레드풀(ExecutorService)</b>을 통해 Runnable 작업을 실행합니다.  
      이렇게 하면 <b>Thread 생명주기 관리 비용을 줄이고, 동시 처리 성능</b>을 크게 높일 수 있습니다.
    </p>

    <h4>🪄 한 줄 요약</h4>
    <blockquote>Thread는 실행 주체, Runnable은 실행 내용 — 대부분의 실무 코드는 Runnable 기반으로 스레드풀에서 실행된다.</blockquote>
    <hr />
  </article>


  <article id="q12">
    <h3>🧩 12. synchronized 키워드</h3>

    <h4>💬 면접 답변 예시</h4>
    <p>
      <b>synchronized</b>는 여러 스레드가 동시에 접근할 때 데이터의 일관성을 보장하기 위해 사용됩니다.  
      즉, 한 스레드가 객체에 접근 중이면 다른 스레드는 그 블록을 기다리게 됩니다.  
      하지만 락을 너무 넓게 잡으면 불필요한 대기가 발생하므로, <b>“필요한 부분만 잠그는 최소화 전략”</b>이 중요합니다.  
      실제 서비스에서는 synchronized보다 세밀한 제어가 가능한 <b>Lock</b> 인터페이스를 쓰기도 합니다.
    </p>

    <h4>🧠 핵심 개념</h4>
    <ul>
      <li>Java의 기본 동기화 메커니즘 (모니터 락 기반)</li>
      <li>메서드 전체 혹은 코드 블록 단위로 잠금 가능</li>
      <li>스레드가 락을 획득해야만 해당 영역을 실행 가능</li>
      <li>락은 객체 단위이며, static 메서드는 클래스 단위 락 사용</li>
    </ul>

    <h4>⚙️ 실무 적용 예시</h4>
    <pre><code>public void increase() {
    synchronized(this) {
        count++;
    }
}</code></pre>

    <p>
      위 코드는 단순한 예시지만, 실제로는 DB 동기화나 공유 캐시 업데이트 등에서  
      race condition을 방지하기 위해 이런 방식이 사용됩니다.  
      단, 이런 락은 성능 저하를 유발할 수 있어,  
      <b>ConcurrentHashMap</b>이나 <b>ReentrantLock</b> 같은 구조로 대체하는 경우가 많습니다.
    </p>

    <h4>🪄 한 줄 요약</h4>
    <blockquote>공유 자원 무결성을 보장하지만 락 범위가 넓으면 병목이 된다 — 실무에서는 최소 범위로 사용하거나 Lock으로 대체한다.</blockquote>
    <hr />
  </article>
</section>
